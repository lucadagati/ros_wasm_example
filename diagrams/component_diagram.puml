@startuml Component Diagram
!theme plain
skinparam backgroundColor #FFFFFF

title System Component Diagram

package "WebAssembly Modules" {
    component [Publisher Module\nC++/WASM] as PM #667eea
    component [Subscriber Module\nC++/WASM] as SM #f5576c
}

package "JavaScript Layer" {
    component [Publisher JS\nGlue Code] as PJ #4CAF50
    component [Subscriber JS\nGlue Code] as SJ #4CAF50
    component [roslib.js] as ROSLIB #4CAF50
}

package "ROS Infrastructure" {
    component [ROS Bridge\nWebSocket] as RB #FFC107
    component [ROS2 DDS\nTopic System] as DDS #9C27B0
}

package "Web Interface" {
    component [Publisher HTML] as PH
    component [Subscriber HTML] as SH
}

PH --> PJ : uses
PJ --> PM : loads
PJ --> ROSLIB : uses
ROSLIB --> RB : connects

SH --> SJ : uses
SJ --> SM : loads
SJ --> ROSLIB : uses
ROSLIB --> RB : connects

RB <--> DDS : ROS2 protocol
PM --> PJ : embind
SM --> SJ : embind

@enduml

